@model NerdDinner.Models.Dinner

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2><strong>@Html.DisplayFor(model => model.Title)</strong></h2>

<p>
    <strong>When: </strong>
    @Html.DisplayFor(model => model.EventDate)
</p>
<p>
    <strong>Where: </strong>
    @Html.DisplayFor(model => model.Address),
    @Html.DisplayFor(model => model.Country)
</p>
<p>
    <strong>Description: </strong>
    @Html.DisplayFor(model => model.Description)
</p>
<p>
    <strong>Organizer: </strong>
    @Html.DisplayFor(model => model.HostedBy)
    (@Html.DisplayFor(model => model.ContactPhone))
</p>
@{
    if (Model.IsHostedBy(Context.User.Identity.Name))
    {
        <p>
            @Html.ActionLink("Edit", "Edit", new {id = Model.DinnerId}) |
            @Html.ActionLink("Back to List", "Index")
        </p>
    }
}
@{
    if (Request.IsAuthenticated)
    {
        if (Model.IsUserRegistered(Context.User.Identity.Name))
        {
            <p><font color="red">You are registered for this event!</font></p>
        }
        else
        {
            <p><font color="red">You are not registered for this event.</font></p>
        }
    }
    else
    {
        <p><a href="/Account/Login">Login</a> to RSVP for this event.</p>
    }
}
